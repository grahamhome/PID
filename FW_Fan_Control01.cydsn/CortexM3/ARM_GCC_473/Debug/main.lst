ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"main.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.global _printf_float
  19              		.section	.rodata
  20              		.align	2
  21              	.LC0:
  22 0000 20202000 		.ascii	"   \000"
  23              		.global	__aeabi_ui2f
  24              		.global	__aeabi_fdiv
  25              		.global	__aeabi_f2d
  26              		.align	2
  27              	.LC1:
  28 0004 25352E32 		.ascii	"%5.2f\000"
  28      6600
  29 000a 0000     		.align	2
  30              	.LC2:
  31 000c 25202020 		.ascii	"%    \000"
  31      2000
  32              		.global	__aeabi_fmul
  33              		.global	__aeabi_fadd
  34              		.global	__aeabi_f2uiz
  35              		.thumb
  36 0012 0000     		.section	.text.main,"ax",%progbits
  37              		.align	2
  38              		.global	main
  39              		.thumb
  40              		.thumb_func
  41              		.type	main, %function
  42              	main:
  43              	.LFB56:
  44              		.file 1 ".\\main.c"
   1:.\main.c      **** /*********************************************************************************
   2:.\main.c      **** * Project Name:      Firmware Fan Control 
   3:.\main.c      **** * Version:           1.20
   4:.\main.c      **** *
   5:.\main.c      **** * Device Used:       PSoC 3 CY8C3866AXI-040 or PSoC 5 CY8C5588AXI-060ES1
   6:.\main.c      **** * Software Used:     PSoC Creator v2.1
   7:.\main.c      **** * Compiler Used:     Keil(C51), ARM GNU CC
   8:.\main.c      **** * Related Hardware:  CY8CKIT-001 PSoC DVK
   9:.\main.c      **** *********************************************************************************
  10:.\main.c      **** * Theory of Operation:
  11:.\main.c      **** *
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 2


  12:.\main.c      **** *  The Fan Controller is configured into the firmware (CPU) fan control mode
  13:.\main.c      **** *  The speed control algorithm is implemented in the firmware
  14:.\main.c      **** *  The firmware synchornizes to hardware using the end-of-cycle (eoc) pulse
  15:.\main.c      **** *  2 Fans are supported (individual PWMs - no banks)
  16:.\main.c      **** *
  17:.\main.c      **** *  1st line of LCD displays Desired Speed and Actual Speed and PWM Duty Cycle of Fan 1
  18:.\main.c      **** *  2nd line of LCD displays Actual Speed and PWM Duty Cycle of Fan 2
  19:.\main.c      **** *  SW1 decreases desired speed in RPM
  20:.\main.c      **** *  SW2 increases desired speed in RPM
  21:.\main.c      **** *
  22:.\main.c      **** ********************************************************************************
  23:.\main.c      **** * Copyright 2013, Cypress Semiconductor Corporation. All rights reserved.
  24:.\main.c      **** * This software is owned by Cypress Semiconductor Corporation and is protected
  25:.\main.c      **** * by and subject to worldwide patent and copyright laws and treaties.
  26:.\main.c      **** * Therefore, you may use this software only as provided in the license agreement
  27:.\main.c      **** * accompanying the software package from which you obtained this software.
  28:.\main.c      **** * CYPRESS AND ITS SUPPLIERS MAKE NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
  29:.\main.c      **** * WITH REGARD TO THIS SOFTWARE, INCLUDING, BUT NOT LIMITED TO, NONINFRINGEMENT,
  30:.\main.c      **** * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
  31:.\main.c      **** *******************************************************************************/
  32:.\main.c      **** 
  33:.\main.c      **** #include <device.h>
  34:.\main.c      **** #include <stdio.h>
  35:.\main.c      **** 
  36:.\main.c      **** #if defined (__GNUC__)
  37:.\main.c      ****     /* Add an explicit reference to the floating point printf library */
  38:.\main.c      ****     /* to allow the usage of floating point conversion specifiers. */
  39:.\main.c      ****     /* This is not linked in by default with the newlib-nano library. */
  40:.\main.c      ****     asm (".global _printf_float");
  41:.\main.c      **** #endif
  42:.\main.c      **** 
  43:.\main.c      **** 
  44:.\main.c      **** /* PWM duty cycle controls - units are hundredths of a percent */
  45:.\main.c      **** #define MIN_DUTY            (50u)
  46:.\main.c      **** #define MAX_DUTY            (9950u)
  47:.\main.c      **** #define DUTY_STEP_COARSE    (100u)
  48:.\main.c      **** #define DUTY_STEP_FINE      (2u)
  49:.\main.c      **** 
  50:.\main.c      **** /* Speed controls - units are RPM */
  51:.\main.c      **** #define MIN_RPM             (2500u)
  52:.\main.c      **** #define MAX_RPM             (9500u)
  53:.\main.c      **** #define INIT_RPM            (4500u)
  54:.\main.c      **** #define RPM_STEP            (500u)
  55:.\main.c      **** #define RPM_DELTA_LARGE     (500u)
  56:.\main.c      **** #define RPM_TOLERANCE       (100u)
  57:.\main.c      **** 
  58:.\main.c      **** #define FAN                 (1u)
  59:.\main.c      **** 
  60:.\main.c      **** void main()
  61:.\main.c      **** {
  45              		.loc 1 61 0
  46              		.cfi_startproc
  47              		@ args = 0, pretend = 0, frame = 24
  48              		@ frame_needed = 1, uses_anonymous_args = 0
  49 0000 80B5     		push	{r7, lr}
  50              	.LCFI0:
  51              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 3


  52              		.cfi_offset 7, -8
  53              		.cfi_offset 14, -4
  54 0002 86B0     		sub	sp, sp, #24
  55              	.LCFI1:
  56              		.cfi_def_cfa_offset 32
  57 0004 00AF     		add	r7, sp, #0
  58              	.LCFI2:
  59              		.cfi_def_cfa_register 7
  62:.\main.c      ****     uint16  desiredSpeed = INIT_RPM;
  60              		.loc 1 62 0
  61 0006 41F29413 		movw	r3, #4500
  62 000a BB82     		strh	r3, [r7, #20]	@ movhi
  63:.\main.c      ****     uint16  dutyCycle;
  64:.\main.c      ****     char    displayString[6];
  65:.\main.c      ****     
  66:.\main.c      ****     /* Globally Enable Interrupts to the CPU Core */
  67:.\main.c      ****     CyGlobalIntEnable;
  63              		.loc 1 67 0
  64              	@ 67 ".\main.c" 1
  65 000c 62B6     		CPSIE   i
  66              	@ 0 "" 2
  68:.\main.c      ****     
  69:.\main.c      ****     FanController_Start();
  67              		.loc 1 69 0
  68              		.thumb
  69 000e FFF7FEFF 		bl	FanController_Start
  70:.\main.c      ****     FanController_SetDesiredSpeed(FAN, desiredSpeed);
  70              		.loc 1 70 0
  71 0012 BB8A     		ldrh	r3, [r7, #20]
  72 0014 4FF00100 		mov	r0, #1
  73 0018 1946     		mov	r1, r3
  74 001a FFF7FEFF 		bl	FanController_SetDesiredSpeed
  71:.\main.c      ****     dutyCycle = FanController_GetDutyCycle(FAN);
  75              		.loc 1 71 0
  76 001e 4FF00100 		mov	r0, #1
  77 0022 FFF7FEFF 		bl	FanController_GetDutyCycle
  78 0026 0346     		mov	r3, r0
  79 0028 FB82     		strh	r3, [r7, #22]	@ movhi
  72:.\main.c      ****     
  73:.\main.c      ****     LCD_Start();
  80              		.loc 1 73 0
  81 002a FFF7FEFF 		bl	LCD_Start
  74:.\main.c      ****     LCD_Position(0u, 0u);
  82              		.loc 1 74 0
  83 002e 4FF00000 		mov	r0, #0
  84 0032 4FF00001 		mov	r1, #0
  85 0036 FFF7FEFF 		bl	LCD_Position
  75:.\main.c      ****     LCD_PrintDecUint16(desiredSpeed);
  86              		.loc 1 75 0
  87 003a BB8A     		ldrh	r3, [r7, #20]
  88 003c 1846     		mov	r0, r3
  89 003e FFF7FEFF 		bl	LCD_PrintU32Number
  76:.\main.c      ****     
  77:.\main.c      ****     ADC_DelSig_1_Start();
  90              		.loc 1 77 0
  91 0042 FFF7FEFF 		bl	ADC_DelSig_1_Start
  78:.\main.c      **** 
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 4


  79:.\main.c      ****     /* Start the ADC conversion */
  80:.\main.c      ****     ADC_DelSig_1_StartConvert();
  92              		.loc 1 80 0
  93 0046 FFF7FEFF 		bl	ADC_DelSig_1_StartConvert
  94 004a 00E0     		b	.L3
  95              	.L4:
  81:.\main.c      ****     
  82:.\main.c      ****     while(1u)
  83:.\main.c      ****     {
  84:.\main.c      ****         /* Synchronize firmware to end-of-cycle pulse from FanController */
  85:.\main.c      ****         if(EOC_SR_Read())
  86:.\main.c      ****         {
  87:.\main.c      ****         
  88:.\main.c      ****             /* Display Fan Actual Speeds */
  89:.\main.c      ****             LCD_Position(0,5u);
  90:.\main.c      ****             LCD_PrintDecUint16(FanController_GetActualSpeed(FAN));
  91:.\main.c      ****             LCD_PrintString("   ");
  92:.\main.c      **** 
  93:.\main.c      ****             /* Firmware Speed Regulation */
  94:.\main.c      ****             //LCD_Position(0,9u);
  95:.\main.c      ****             
  96:.\main.c      ****             /* Fan Below Desired Speed */
  97:.\main.c      ****             /*if(FanController_GetActualSpeed(FAN) < desiredSpeed)
  98:.\main.c      ****             {
  99:.\main.c      ****                 if((desiredSpeed - FanController_GetActualSpeed(FAN)) > RPM_DELTA_LARGE)
 100:.\main.c      ****                 {
 101:.\main.c      ****                     dutyCycle += DUTY_STEP_COARSE;
 102:.\main.c      ****                 }
 103:.\main.c      ****                 else
 104:.\main.c      ****                 {
 105:.\main.c      ****                     dutyCycle += DUTY_STEP_FINE;
 106:.\main.c      ****                 }
 107:.\main.c      ****                 if(dutyCycle > MAX_DUTY)
 108:.\main.c      ****                 {
 109:.\main.c      ****                     dutyCycle = MAX_DUTY;
 110:.\main.c      ****                 }
 111:.\main.c      ****             }*/
 112:.\main.c      ****             /* Fan Above Desired Speed */
 113:.\main.c      ****             /*else if(FanController_GetActualSpeed(FAN) > desiredSpeed)
 114:.\main.c      ****             {
 115:.\main.c      ****                 if((FanController_GetActualSpeed(FAN) - desiredSpeed) > RPM_DELTA_LARGE)
 116:.\main.c      ****                 {
 117:.\main.c      ****                     if(dutyCycle > (MIN_DUTY+DUTY_STEP_COARSE))
 118:.\main.c      ****                     {
 119:.\main.c      ****                         dutyCycle -= DUTY_STEP_COARSE;
 120:.\main.c      ****                     }
 121:.\main.c      ****                 }
 122:.\main.c      ****                 else if((FanController_GetActualSpeed(FAN) - desiredSpeed) > RPM_TOLERANCE)
 123:.\main.c      ****                 {
 124:.\main.c      ****                     if(dutyCycle > MIN_DUTY)
 125:.\main.c      ****                     {
 126:.\main.c      ****                         dutyCycle -= DUTY_STEP_FINE;
 127:.\main.c      ****                     }
 128:.\main.c      ****                 }
 129:.\main.c      ****             }
 130:.\main.c      ****             FanController_SetDutyCycle(FAN, dutyCycle);*/
 131:.\main.c      **** 
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 5


 132:.\main.c      ****             /* Display Current Duty Cycle Settings (in 100ths of a percent) */
 133:.\main.c      ****             LCD_Position(0,10u);
 134:.\main.c      ****             sprintf(displayString, "%5.2f", (((float)dutyCycle)/100));
 135:.\main.c      ****             LCD_PrintString(displayString);
 136:.\main.c      ****             LCD_PrintString("%    ");
 137:.\main.c      ****             
 138:.\main.c      ****             
 139:.\main.c      ****             // Check for potentiometer reading to change speed
 140:.\main.c      ****             if(ADC_DelSig_1_IsEndConversion(ADC_DelSig_1_RETURN_STATUS))
 141:.\main.c      ****             {
 142:.\main.c      ****                 uint16 output = ADC_DelSig_1_GetResult16() + 1; // Add one to overflow int at minim
 143:.\main.c      ****                 LCD_Position(1u, 8u);
 144:.\main.c      ****                 LCD_PrintInt16(output);
 145:.\main.c      ****                 float speed = (((float) output)/(float)256 * (((float)MAX_RPM) - ((float)MIN_RPM)))
 146:.\main.c      ****                 float duty = (((float) output)/(float)256 * (((float)MAX_DUTY) - ((float)MIN_DUTY))
 147:.\main.c      ****                 dutyCycle = (uint16) duty;
 148:.\main.c      ****                 desiredSpeed = (uint16) speed;
 149:.\main.c      ****                 /* Display Updated Desired Speed */
 150:.\main.c      ****                 LCD_Position(1u, 0u);
 151:.\main.c      ****                 LCD_PrintDecUint16(desiredSpeed);
 152:.\main.c      ****                 FanController_SetDesiredSpeed(FAN, desiredSpeed);
 153:.\main.c      ****                 FanController_SetDutyCycle(FAN, dutyCycle);
 154:.\main.c      ****                 
 155:.\main.c      ****             }
 156:.\main.c      ****             
 157:.\main.c      ****             //CyDelay(250u);
 158:.\main.c      ****             
 159:.\main.c      ****             /* Check for Button Press to Change Speed */
 160:.\main.c      ****             /*if((!SW1_Read()) || (!SW2_Read()))
 161:.\main.c      ****             {*/
 162:.\main.c      ****                 /* Decrease Speed */
 163:.\main.c      ****                 /*if(!SW1_Read())
 164:.\main.c      ****                 {
 165:.\main.c      ****                     if(desiredSpeed > MIN_RPM)
 166:.\main.c      ****                     {
 167:.\main.c      ****                         desiredSpeed -= RPM_STEP;
 168:.\main.c      ****                     }
 169:.\main.c      ****                 }*/
 170:.\main.c      ****                 
 171:.\main.c      ****                 /* Increase Speed */
 172:.\main.c      ****                 /*else
 173:.\main.c      ****                 {
 174:.\main.c      ****                     desiredSpeed += RPM_STEP;
 175:.\main.c      ****                     if(desiredSpeed > MAX_RPM)
 176:.\main.c      ****                     {
 177:.\main.c      ****                         desiredSpeed = MAX_RPM;
 178:.\main.c      ****                     }
 179:.\main.c      ****                 }*/
 180:.\main.c      ****     
 181:.\main.c      ****                 /* Display Updated Desired Speed */
 182:.\main.c      ****                 /*LCD_Position(0u, 0u);
 183:.\main.c      ****                 LCD_PrintDecUint16(desiredSpeed);
 184:.\main.c      ****                 FanController_SetDesiredSpeed(1u, desiredSpeed);
 185:.\main.c      ****                 dutyCycle = FanController_GetDutyCycle(1u);*/
 186:.\main.c      ****                 
 187:.\main.c      ****                 /* Switch Debounce */
 188:.\main.c      ****                 //CyDelay(250u);
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 6


 189:.\main.c      ****             //}
 190:.\main.c      ****         }
 191:.\main.c      ****     }
  96              		.loc 1 191 0
  97 004c 00BF     		nop
  98              	.L3:
  85:.\main.c      ****         if(EOC_SR_Read())
  99              		.loc 1 85 0
 100 004e FFF7FEFF 		bl	EOC_SR_Read
 101 0052 0346     		mov	r3, r0
 102 0054 002B     		cmp	r3, #0
 103 0056 F9D0     		beq	.L4
  89:.\main.c      ****             LCD_Position(0,5u);
 104              		.loc 1 89 0
 105 0058 4FF00000 		mov	r0, #0
 106 005c 4FF00501 		mov	r1, #5
 107 0060 FFF7FEFF 		bl	LCD_Position
  90:.\main.c      ****             LCD_PrintDecUint16(FanController_GetActualSpeed(FAN));
 108              		.loc 1 90 0
 109 0064 4FF00100 		mov	r0, #1
 110 0068 FFF7FEFF 		bl	FanController_GetActualSpeed
 111 006c 0346     		mov	r3, r0
 112 006e 1846     		mov	r0, r3
 113 0070 FFF7FEFF 		bl	LCD_PrintU32Number
  91:.\main.c      ****             LCD_PrintString("   ");
 114              		.loc 1 91 0
 115 0074 40F20000 		movw	r0, #:lower16:.LC0
 116 0078 C0F20000 		movt	r0, #:upper16:.LC0
 117 007c FFF7FEFF 		bl	LCD_PrintString
 133:.\main.c      ****             LCD_Position(0,10u);
 118              		.loc 1 133 0
 119 0080 4FF00000 		mov	r0, #0
 120 0084 4FF00A01 		mov	r1, #10
 121 0088 FFF7FEFF 		bl	LCD_Position
 134:.\main.c      ****             sprintf(displayString, "%5.2f", (((float)dutyCycle)/100));
 122              		.loc 1 134 0
 123 008c FB8A     		ldrh	r3, [r7, #22]
 124 008e 1846     		mov	r0, r3
 125 0090 FFF7FEFF 		bl	__aeabi_ui2f
 126 0094 0346     		mov	r3, r0
 127 0096 1846     		mov	r0, r3
 128 0098 4FF00001 		mov	r1, #0
 129 009c C4F2C821 		movt	r1, 17096
 130 00a0 FFF7FEFF 		bl	__aeabi_fdiv
 131 00a4 0346     		mov	r3, r0
 132 00a6 1846     		mov	r0, r3
 133 00a8 FFF7FEFF 		bl	__aeabi_f2d
 134 00ac 0246     		mov	r2, r0
 135 00ae 0B46     		mov	r3, r1
 136 00b0 3946     		mov	r1, r7
 137 00b2 0846     		mov	r0, r1
 138 00b4 40F20001 		movw	r1, #:lower16:.LC1
 139 00b8 C0F20001 		movt	r1, #:upper16:.LC1
 140 00bc FFF7FEFF 		bl	sprintf
 135:.\main.c      ****             LCD_PrintString(displayString);
 141              		.loc 1 135 0
 142 00c0 3B46     		mov	r3, r7
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 7


 143 00c2 1846     		mov	r0, r3
 144 00c4 FFF7FEFF 		bl	LCD_PrintString
 136:.\main.c      ****             LCD_PrintString("%    ");
 145              		.loc 1 136 0
 146 00c8 40F20000 		movw	r0, #:lower16:.LC2
 147 00cc C0F20000 		movt	r0, #:upper16:.LC2
 148 00d0 FFF7FEFF 		bl	LCD_PrintString
 140:.\main.c      ****             if(ADC_DelSig_1_IsEndConversion(ADC_DelSig_1_RETURN_STATUS))
 149              		.loc 1 140 0
 150 00d4 4FF00100 		mov	r0, #1
 151 00d8 FFF7FEFF 		bl	ADC_DelSig_1_IsEndConversion
 152 00dc 0346     		mov	r3, r0
 153 00de 002B     		cmp	r3, #0
 154 00e0 B4D0     		beq	.L4
 155              	.LBB2:
 142:.\main.c      ****                 uint16 output = ADC_DelSig_1_GetResult16() + 1; // Add one to overflow int at minim
 156              		.loc 1 142 0
 157 00e2 FFF7FEFF 		bl	ADC_DelSig_1_GetResult16
 158 00e6 0346     		mov	r3, r0
 159 00e8 9BB2     		uxth	r3, r3
 160 00ea 03F10103 		add	r3, r3, #1
 161 00ee 7B82     		strh	r3, [r7, #18]	@ movhi
 143:.\main.c      ****                 LCD_Position(1u, 8u);
 162              		.loc 1 143 0
 163 00f0 4FF00100 		mov	r0, #1
 164 00f4 4FF00801 		mov	r1, #8
 165 00f8 FFF7FEFF 		bl	LCD_Position
 144:.\main.c      ****                 LCD_PrintInt16(output);
 166              		.loc 1 144 0
 167 00fc 7B8A     		ldrh	r3, [r7, #18]
 168 00fe 1846     		mov	r0, r3
 169 0100 FFF7FEFF 		bl	LCD_PrintInt16
 145:.\main.c      ****                 float speed = (((float) output)/(float)256 * (((float)MAX_RPM) - ((float)MIN_RPM)))
 170              		.loc 1 145 0
 171 0104 7B8A     		ldrh	r3, [r7, #18]
 172 0106 1846     		mov	r0, r3
 173 0108 FFF7FEFF 		bl	__aeabi_ui2f
 174 010c 0346     		mov	r3, r0
 175 010e 1846     		mov	r0, r3
 176 0110 4FF08741 		mov	r1, #1132462080
 177 0114 FFF7FEFF 		bl	__aeabi_fdiv
 178 0118 0346     		mov	r3, r0
 179 011a 1846     		mov	r0, r3
 180 011c 4FF44041 		mov	r1, #49152
 181 0120 C4F2DA51 		movt	r1, 17882
 182 0124 FFF7FEFF 		bl	__aeabi_fmul
 183 0128 0346     		mov	r3, r0
 184 012a 1846     		mov	r0, r3
 185 012c 4FF48041 		mov	r1, #16384
 186 0130 C4F21C51 		movt	r1, 17692
 187 0134 FFF7FEFF 		bl	__aeabi_fadd
 188 0138 0346     		mov	r3, r0
 189 013a FB60     		str	r3, [r7, #12]	@ float
 146:.\main.c      ****                 float duty = (((float) output)/(float)256 * (((float)MAX_DUTY) - ((float)MIN_DUTY))
 190              		.loc 1 146 0
 191 013c 7B8A     		ldrh	r3, [r7, #18]
 192 013e 1846     		mov	r0, r3
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 8


 193 0140 FFF7FEFF 		bl	__aeabi_ui2f
 194 0144 0346     		mov	r3, r0
 195 0146 1846     		mov	r0, r3
 196 0148 4FF08741 		mov	r1, #1132462080
 197 014c FFF7FEFF 		bl	__aeabi_fdiv
 198 0150 0346     		mov	r3, r0
 199 0152 1846     		mov	r0, r3
 200 0154 4FF43041 		mov	r1, #45056
 201 0158 C4F21A61 		movt	r1, 17946
 202 015c FFF7FEFF 		bl	__aeabi_fmul
 203 0160 0346     		mov	r3, r0
 204 0162 1846     		mov	r0, r3
 205 0164 4FF00001 		mov	r1, #0
 206 0168 C4F24821 		movt	r1, 16968
 207 016c FFF7FEFF 		bl	__aeabi_fadd
 208 0170 0346     		mov	r3, r0
 209 0172 BB60     		str	r3, [r7, #8]	@ float
 147:.\main.c      ****                 dutyCycle = (uint16) duty;
 210              		.loc 1 147 0
 211 0174 B868     		ldr	r0, [r7, #8]	@ float
 212 0176 FFF7FEFF 		bl	__aeabi_f2uiz
 213 017a 0346     		mov	r3, r0
 214 017c FB82     		strh	r3, [r7, #22]	@ movhi
 148:.\main.c      ****                 desiredSpeed = (uint16) speed;
 215              		.loc 1 148 0
 216 017e F868     		ldr	r0, [r7, #12]	@ float
 217 0180 FFF7FEFF 		bl	__aeabi_f2uiz
 218 0184 0346     		mov	r3, r0
 219 0186 BB82     		strh	r3, [r7, #20]	@ movhi
 150:.\main.c      ****                 LCD_Position(1u, 0u);
 220              		.loc 1 150 0
 221 0188 4FF00100 		mov	r0, #1
 222 018c 4FF00001 		mov	r1, #0
 223 0190 FFF7FEFF 		bl	LCD_Position
 151:.\main.c      ****                 LCD_PrintDecUint16(desiredSpeed);
 224              		.loc 1 151 0
 225 0194 BB8A     		ldrh	r3, [r7, #20]
 226 0196 1846     		mov	r0, r3
 227 0198 FFF7FEFF 		bl	LCD_PrintU32Number
 152:.\main.c      ****                 FanController_SetDesiredSpeed(FAN, desiredSpeed);
 228              		.loc 1 152 0
 229 019c BB8A     		ldrh	r3, [r7, #20]
 230 019e 4FF00100 		mov	r0, #1
 231 01a2 1946     		mov	r1, r3
 232 01a4 FFF7FEFF 		bl	FanController_SetDesiredSpeed
 153:.\main.c      ****                 FanController_SetDutyCycle(FAN, dutyCycle);
 233              		.loc 1 153 0
 234 01a8 FB8A     		ldrh	r3, [r7, #22]
 235 01aa 4FF00100 		mov	r0, #1
 236 01ae 1946     		mov	r1, r3
 237 01b0 FFF7FEFF 		bl	FanController_SetDutyCycle
 238              	.LBE2:
 239              		.loc 1 191 0
 240 01b4 4AE7     		b	.L4
 241              		.cfi_endproc
 242              	.LFE56:
 243              		.size	main, .-main
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 9


 244 01b6 00BF     		.text
 245              	.Letext0:
 246              		.file 2 "c:\\program files (x86)\\cypress\\psoc creator\\3.0\\psoc creator\\import\\gnu_cs\\arm\\4
 247              		.file 3 "./Generated_Source/PSoC5/cytypes.h"
 248              		.file 4 "./Generated_Source/PSoC5/core_cm3.h"
 249              		.section	.debug_info,"",%progbits
 250              	.Ldebug_info0:
 251 0000 39010000 		.4byte	0x139
 252 0004 0200     		.2byte	0x2
 253 0006 00000000 		.4byte	.Ldebug_abbrev0
 254 000a 04       		.byte	0x4
 255 000b 01       		.uleb128 0x1
 256 000c 3F000000 		.4byte	.LASF21
 257 0010 01       		.byte	0x1
 258 0011 57010000 		.4byte	.LASF22
 259 0015 BE000000 		.4byte	.LASF23
 260 0019 00000000 		.4byte	.Ldebug_ranges0+0
 261 001d 00000000 		.4byte	0
 262 0021 00000000 		.4byte	0
 263 0025 00000000 		.4byte	.Ldebug_line0
 264 0029 02       		.uleb128 0x2
 265 002a 01       		.byte	0x1
 266 002b 06       		.byte	0x6
 267 002c 33000000 		.4byte	.LASF0
 268 0030 02       		.uleb128 0x2
 269 0031 01       		.byte	0x1
 270 0032 08       		.byte	0x8
 271 0033 2B010000 		.4byte	.LASF1
 272 0037 02       		.uleb128 0x2
 273 0038 02       		.byte	0x2
 274 0039 05       		.byte	0x5
 275 003a 8D010000 		.4byte	.LASF2
 276 003e 02       		.uleb128 0x2
 277 003f 02       		.byte	0x2
 278 0040 07       		.byte	0x7
 279 0041 0E000000 		.4byte	.LASF3
 280 0045 03       		.uleb128 0x3
 281 0046 9E010000 		.4byte	.LASF9
 282 004a 02       		.byte	0x2
 283 004b 4F       		.byte	0x4f
 284 004c 50000000 		.4byte	0x50
 285 0050 02       		.uleb128 0x2
 286 0051 04       		.byte	0x4
 287 0052 05       		.byte	0x5
 288 0053 44010000 		.4byte	.LASF4
 289 0057 02       		.uleb128 0x2
 290 0058 04       		.byte	0x4
 291 0059 07       		.byte	0x7
 292 005a 88000000 		.4byte	.LASF5
 293 005e 02       		.uleb128 0x2
 294 005f 08       		.byte	0x8
 295 0060 05       		.byte	0x5
 296 0061 00000000 		.4byte	.LASF6
 297 0065 02       		.uleb128 0x2
 298 0066 08       		.byte	0x8
 299 0067 07       		.byte	0x7
 300 0068 A7000000 		.4byte	.LASF7
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 10


 301 006c 04       		.uleb128 0x4
 302 006d 04       		.byte	0x4
 303 006e 05       		.byte	0x5
 304 006f 696E7400 		.ascii	"int\000"
 305 0073 02       		.uleb128 0x2
 306 0074 04       		.byte	0x4
 307 0075 07       		.byte	0x7
 308 0076 21000000 		.4byte	.LASF8
 309 007a 03       		.uleb128 0x3
 310 007b 97010000 		.4byte	.LASF10
 311 007f 03       		.byte	0x3
 312 0080 5C       		.byte	0x5c
 313 0081 3E000000 		.4byte	0x3e
 314 0085 02       		.uleb128 0x2
 315 0086 04       		.byte	0x4
 316 0087 04       		.byte	0x4
 317 0088 87010000 		.4byte	.LASF11
 318 008c 02       		.uleb128 0x2
 319 008d 08       		.byte	0x8
 320 008e 04       		.byte	0x4
 321 008f 60010000 		.4byte	.LASF12
 322 0093 02       		.uleb128 0x2
 323 0094 01       		.byte	0x1
 324 0095 08       		.byte	0x8
 325 0096 3F010000 		.4byte	.LASF13
 326 009a 02       		.uleb128 0x2
 327 009b 04       		.byte	0x4
 328 009c 07       		.byte	0x7
 329 009d A6010000 		.4byte	.LASF14
 330 00a1 05       		.uleb128 0x5
 331 00a2 01       		.byte	0x1
 332 00a3 2E000000 		.4byte	.LASF24
 333 00a7 01       		.byte	0x1
 334 00a8 3C       		.byte	0x3c
 335 00a9 00000000 		.4byte	.LFB56
 336 00ad B6010000 		.4byte	.LFE56
 337 00b1 00000000 		.4byte	.LLST0
 338 00b5 01       		.byte	0x1
 339 00b6 19010000 		.4byte	0x119
 340 00ba 06       		.uleb128 0x6
 341 00bb 9A000000 		.4byte	.LASF15
 342 00bf 01       		.byte	0x1
 343 00c0 3E       		.byte	0x3e
 344 00c1 7A000000 		.4byte	0x7a
 345 00c5 02       		.byte	0x2
 346 00c6 91       		.byte	0x91
 347 00c7 74       		.sleb128 -12
 348 00c8 06       		.uleb128 0x6
 349 00c9 4D010000 		.4byte	.LASF16
 350 00cd 01       		.byte	0x1
 351 00ce 3F       		.byte	0x3f
 352 00cf 7A000000 		.4byte	0x7a
 353 00d3 02       		.byte	0x2
 354 00d4 91       		.byte	0x91
 355 00d5 76       		.sleb128 -10
 356 00d6 06       		.uleb128 0x6
 357 00d7 79010000 		.4byte	.LASF17
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 11


 358 00db 01       		.byte	0x1
 359 00dc 40       		.byte	0x40
 360 00dd 19010000 		.4byte	0x119
 361 00e1 02       		.byte	0x2
 362 00e2 91       		.byte	0x91
 363 00e3 60       		.sleb128 -32
 364 00e4 07       		.uleb128 0x7
 365 00e5 E2000000 		.4byte	.LBB2
 366 00e9 B4010000 		.4byte	.LBE2
 367 00ed 06       		.uleb128 0x6
 368 00ee 24010000 		.4byte	.LASF18
 369 00f2 01       		.byte	0x1
 370 00f3 8E       		.byte	0x8e
 371 00f4 7A000000 		.4byte	0x7a
 372 00f8 02       		.byte	0x2
 373 00f9 91       		.byte	0x91
 374 00fa 72       		.sleb128 -14
 375 00fb 06       		.uleb128 0x6
 376 00fc 39010000 		.4byte	.LASF19
 377 0100 01       		.byte	0x1
 378 0101 91       		.byte	0x91
 379 0102 85000000 		.4byte	0x85
 380 0106 02       		.byte	0x2
 381 0107 91       		.byte	0x91
 382 0108 6C       		.sleb128 -20
 383 0109 06       		.uleb128 0x6
 384 010a 67010000 		.4byte	.LASF20
 385 010e 01       		.byte	0x1
 386 010f 92       		.byte	0x92
 387 0110 85000000 		.4byte	0x85
 388 0114 02       		.byte	0x2
 389 0115 91       		.byte	0x91
 390 0116 68       		.sleb128 -24
 391 0117 00       		.byte	0
 392 0118 00       		.byte	0
 393 0119 08       		.uleb128 0x8
 394 011a 93000000 		.4byte	0x93
 395 011e 29010000 		.4byte	0x129
 396 0122 09       		.uleb128 0x9
 397 0123 9A000000 		.4byte	0x9a
 398 0127 05       		.byte	0x5
 399 0128 00       		.byte	0
 400 0129 0A       		.uleb128 0xa
 401 012a 6C010000 		.4byte	.LASF25
 402 012e 04       		.byte	0x4
 403 012f 1606     		.2byte	0x616
 404 0131 37010000 		.4byte	0x137
 405 0135 01       		.byte	0x1
 406 0136 01       		.byte	0x1
 407 0137 0B       		.uleb128 0xb
 408 0138 45000000 		.4byte	0x45
 409 013c 00       		.byte	0
 410              		.section	.debug_abbrev,"",%progbits
 411              	.Ldebug_abbrev0:
 412 0000 01       		.uleb128 0x1
 413 0001 11       		.uleb128 0x11
 414 0002 01       		.byte	0x1
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 12


 415 0003 25       		.uleb128 0x25
 416 0004 0E       		.uleb128 0xe
 417 0005 13       		.uleb128 0x13
 418 0006 0B       		.uleb128 0xb
 419 0007 03       		.uleb128 0x3
 420 0008 0E       		.uleb128 0xe
 421 0009 1B       		.uleb128 0x1b
 422 000a 0E       		.uleb128 0xe
 423 000b 55       		.uleb128 0x55
 424 000c 06       		.uleb128 0x6
 425 000d 11       		.uleb128 0x11
 426 000e 01       		.uleb128 0x1
 427 000f 52       		.uleb128 0x52
 428 0010 01       		.uleb128 0x1
 429 0011 10       		.uleb128 0x10
 430 0012 06       		.uleb128 0x6
 431 0013 00       		.byte	0
 432 0014 00       		.byte	0
 433 0015 02       		.uleb128 0x2
 434 0016 24       		.uleb128 0x24
 435 0017 00       		.byte	0
 436 0018 0B       		.uleb128 0xb
 437 0019 0B       		.uleb128 0xb
 438 001a 3E       		.uleb128 0x3e
 439 001b 0B       		.uleb128 0xb
 440 001c 03       		.uleb128 0x3
 441 001d 0E       		.uleb128 0xe
 442 001e 00       		.byte	0
 443 001f 00       		.byte	0
 444 0020 03       		.uleb128 0x3
 445 0021 16       		.uleb128 0x16
 446 0022 00       		.byte	0
 447 0023 03       		.uleb128 0x3
 448 0024 0E       		.uleb128 0xe
 449 0025 3A       		.uleb128 0x3a
 450 0026 0B       		.uleb128 0xb
 451 0027 3B       		.uleb128 0x3b
 452 0028 0B       		.uleb128 0xb
 453 0029 49       		.uleb128 0x49
 454 002a 13       		.uleb128 0x13
 455 002b 00       		.byte	0
 456 002c 00       		.byte	0
 457 002d 04       		.uleb128 0x4
 458 002e 24       		.uleb128 0x24
 459 002f 00       		.byte	0
 460 0030 0B       		.uleb128 0xb
 461 0031 0B       		.uleb128 0xb
 462 0032 3E       		.uleb128 0x3e
 463 0033 0B       		.uleb128 0xb
 464 0034 03       		.uleb128 0x3
 465 0035 08       		.uleb128 0x8
 466 0036 00       		.byte	0
 467 0037 00       		.byte	0
 468 0038 05       		.uleb128 0x5
 469 0039 2E       		.uleb128 0x2e
 470 003a 01       		.byte	0x1
 471 003b 3F       		.uleb128 0x3f
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 13


 472 003c 0C       		.uleb128 0xc
 473 003d 03       		.uleb128 0x3
 474 003e 0E       		.uleb128 0xe
 475 003f 3A       		.uleb128 0x3a
 476 0040 0B       		.uleb128 0xb
 477 0041 3B       		.uleb128 0x3b
 478 0042 0B       		.uleb128 0xb
 479 0043 11       		.uleb128 0x11
 480 0044 01       		.uleb128 0x1
 481 0045 12       		.uleb128 0x12
 482 0046 01       		.uleb128 0x1
 483 0047 40       		.uleb128 0x40
 484 0048 06       		.uleb128 0x6
 485 0049 9642     		.uleb128 0x2116
 486 004b 0C       		.uleb128 0xc
 487 004c 01       		.uleb128 0x1
 488 004d 13       		.uleb128 0x13
 489 004e 00       		.byte	0
 490 004f 00       		.byte	0
 491 0050 06       		.uleb128 0x6
 492 0051 34       		.uleb128 0x34
 493 0052 00       		.byte	0
 494 0053 03       		.uleb128 0x3
 495 0054 0E       		.uleb128 0xe
 496 0055 3A       		.uleb128 0x3a
 497 0056 0B       		.uleb128 0xb
 498 0057 3B       		.uleb128 0x3b
 499 0058 0B       		.uleb128 0xb
 500 0059 49       		.uleb128 0x49
 501 005a 13       		.uleb128 0x13
 502 005b 02       		.uleb128 0x2
 503 005c 0A       		.uleb128 0xa
 504 005d 00       		.byte	0
 505 005e 00       		.byte	0
 506 005f 07       		.uleb128 0x7
 507 0060 0B       		.uleb128 0xb
 508 0061 01       		.byte	0x1
 509 0062 11       		.uleb128 0x11
 510 0063 01       		.uleb128 0x1
 511 0064 12       		.uleb128 0x12
 512 0065 01       		.uleb128 0x1
 513 0066 00       		.byte	0
 514 0067 00       		.byte	0
 515 0068 08       		.uleb128 0x8
 516 0069 01       		.uleb128 0x1
 517 006a 01       		.byte	0x1
 518 006b 49       		.uleb128 0x49
 519 006c 13       		.uleb128 0x13
 520 006d 01       		.uleb128 0x1
 521 006e 13       		.uleb128 0x13
 522 006f 00       		.byte	0
 523 0070 00       		.byte	0
 524 0071 09       		.uleb128 0x9
 525 0072 21       		.uleb128 0x21
 526 0073 00       		.byte	0
 527 0074 49       		.uleb128 0x49
 528 0075 13       		.uleb128 0x13
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 14


 529 0076 2F       		.uleb128 0x2f
 530 0077 0B       		.uleb128 0xb
 531 0078 00       		.byte	0
 532 0079 00       		.byte	0
 533 007a 0A       		.uleb128 0xa
 534 007b 34       		.uleb128 0x34
 535 007c 00       		.byte	0
 536 007d 03       		.uleb128 0x3
 537 007e 0E       		.uleb128 0xe
 538 007f 3A       		.uleb128 0x3a
 539 0080 0B       		.uleb128 0xb
 540 0081 3B       		.uleb128 0x3b
 541 0082 05       		.uleb128 0x5
 542 0083 49       		.uleb128 0x49
 543 0084 13       		.uleb128 0x13
 544 0085 3F       		.uleb128 0x3f
 545 0086 0C       		.uleb128 0xc
 546 0087 3C       		.uleb128 0x3c
 547 0088 0C       		.uleb128 0xc
 548 0089 00       		.byte	0
 549 008a 00       		.byte	0
 550 008b 0B       		.uleb128 0xb
 551 008c 35       		.uleb128 0x35
 552 008d 00       		.byte	0
 553 008e 49       		.uleb128 0x49
 554 008f 13       		.uleb128 0x13
 555 0090 00       		.byte	0
 556 0091 00       		.byte	0
 557 0092 00       		.byte	0
 558              		.section	.debug_loc,"",%progbits
 559              	.Ldebug_loc0:
 560              	.LLST0:
 561 0000 00000000 		.4byte	.LFB56
 562 0004 02000000 		.4byte	.LCFI0
 563 0008 0200     		.2byte	0x2
 564 000a 7D       		.byte	0x7d
 565 000b 00       		.sleb128 0
 566 000c 02000000 		.4byte	.LCFI0
 567 0010 04000000 		.4byte	.LCFI1
 568 0014 0200     		.2byte	0x2
 569 0016 7D       		.byte	0x7d
 570 0017 08       		.sleb128 8
 571 0018 04000000 		.4byte	.LCFI1
 572 001c 06000000 		.4byte	.LCFI2
 573 0020 0200     		.2byte	0x2
 574 0022 7D       		.byte	0x7d
 575 0023 20       		.sleb128 32
 576 0024 06000000 		.4byte	.LCFI2
 577 0028 B6010000 		.4byte	.LFE56
 578 002c 0200     		.2byte	0x2
 579 002e 77       		.byte	0x77
 580 002f 20       		.sleb128 32
 581 0030 00000000 		.4byte	0
 582 0034 00000000 		.4byte	0
 583              		.section	.debug_aranges,"",%progbits
 584 0000 1C000000 		.4byte	0x1c
 585 0004 0200     		.2byte	0x2
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 15


 586 0006 00000000 		.4byte	.Ldebug_info0
 587 000a 04       		.byte	0x4
 588 000b 00       		.byte	0
 589 000c 0000     		.2byte	0
 590 000e 0000     		.2byte	0
 591 0010 00000000 		.4byte	.LFB56
 592 0014 B6010000 		.4byte	.LFE56-.LFB56
 593 0018 00000000 		.4byte	0
 594 001c 00000000 		.4byte	0
 595              		.section	.debug_ranges,"",%progbits
 596              	.Ldebug_ranges0:
 597 0000 00000000 		.4byte	.LFB56
 598 0004 B6010000 		.4byte	.LFE56
 599 0008 00000000 		.4byte	0
 600 000c 00000000 		.4byte	0
 601              		.section	.debug_line,"",%progbits
 602              	.Ldebug_line0:
 603 0000 3B010000 		.section	.debug_str,"MS",%progbits,1
 603      0200F900 
 603      00000201 
 603      FB0E0D00 
 603      01010101 
 604              	.LASF6:
 605 0000 6C6F6E67 		.ascii	"long long int\000"
 605      206C6F6E 
 605      6720696E 
 605      7400
 606              	.LASF3:
 607 000e 73686F72 		.ascii	"short unsigned int\000"
 607      7420756E 
 607      7369676E 
 607      65642069 
 607      6E7400
 608              	.LASF8:
 609 0021 756E7369 		.ascii	"unsigned int\000"
 609      676E6564 
 609      20696E74 
 609      00
 610              	.LASF24:
 611 002e 6D61696E 		.ascii	"main\000"
 611      00
 612              	.LASF0:
 613 0033 7369676E 		.ascii	"signed char\000"
 613      65642063 
 613      68617200 
 614              	.LASF21:
 615 003f 474E5520 		.ascii	"GNU C 4.7.3 20130312 (release) [ARM/embedded-4_7-br"
 615      4320342E 
 615      372E3320 
 615      32303133 
 615      30333132 
 616 0072 616E6368 		.ascii	"anch revision 196615]\000"
 616      20726576 
 616      6973696F 
 616      6E203139 
 616      36363135 
 617              	.LASF5:
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 16


 618 0088 6C6F6E67 		.ascii	"long unsigned int\000"
 618      20756E73 
 618      69676E65 
 618      6420696E 
 618      7400
 619              	.LASF15:
 620 009a 64657369 		.ascii	"desiredSpeed\000"
 620      72656453 
 620      70656564 
 620      00
 621              	.LASF7:
 622 00a7 6C6F6E67 		.ascii	"long long unsigned int\000"
 622      206C6F6E 
 622      6720756E 
 622      7369676E 
 622      65642069 
 623              	.LASF23:
 624 00be 5C5C6D69 		.ascii	"\\\\mightor\\home\\spring2013\\gmh5970\\Documents\\"
 624      6768746F 
 624      725C686F 
 624      6D655C73 
 624      7072696E 
 625 00ea 50536F43 		.ascii	"PSoC Creator\\Fan_And_Potentiometer\\FW_Fan_Control"
 625      20437265 
 625      61746F72 
 625      5C46616E 
 625      5F416E64 
 626 011b 30312E63 		.ascii	"01.cydsn\000"
 626      7964736E 
 626      00
 627              	.LASF18:
 628 0124 6F757470 		.ascii	"output\000"
 628      757400
 629              	.LASF1:
 630 012b 756E7369 		.ascii	"unsigned char\000"
 630      676E6564 
 630      20636861 
 630      7200
 631              	.LASF19:
 632 0139 73706565 		.ascii	"speed\000"
 632      6400
 633              	.LASF13:
 634 013f 63686172 		.ascii	"char\000"
 634      00
 635              	.LASF4:
 636 0144 6C6F6E67 		.ascii	"long int\000"
 636      20696E74 
 636      00
 637              	.LASF16:
 638 014d 64757479 		.ascii	"dutyCycle\000"
 638      4379636C 
 638      6500
 639              	.LASF22:
 640 0157 2E5C6D61 		.ascii	".\\main.c\000"
 640      696E2E63 
 640      00
 641              	.LASF12:
ARM GAS  C:\Users\gmh5970\AppData\Local\Temp\ccDhmBsq.s 			page 17


 642 0160 646F7562 		.ascii	"double\000"
 642      6C6500
 643              	.LASF20:
 644 0167 64757479 		.ascii	"duty\000"
 644      00
 645              	.LASF25:
 646 016c 49544D5F 		.ascii	"ITM_RxBuffer\000"
 646      52784275 
 646      66666572 
 646      00
 647              	.LASF17:
 648 0179 64697370 		.ascii	"displayString\000"
 648      6C617953 
 648      7472696E 
 648      6700
 649              	.LASF11:
 650 0187 666C6F61 		.ascii	"float\000"
 650      7400
 651              	.LASF2:
 652 018d 73686F72 		.ascii	"short int\000"
 652      7420696E 
 652      7400
 653              	.LASF10:
 654 0197 75696E74 		.ascii	"uint16\000"
 654      313600
 655              	.LASF9:
 656 019e 696E7433 		.ascii	"int32_t\000"
 656      325F7400 
 657              	.LASF14:
 658 01a6 73697A65 		.ascii	"sizetype\000"
 658      74797065 
 658      00
 659              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 4.7.3 20130312 (release) [ARM/embedded-4_7-br
